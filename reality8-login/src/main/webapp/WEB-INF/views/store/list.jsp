<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@include file="./header.jsp" %>

        
        
        
        <!--VISUAL-->
        <section class="visual">
          <div class="inner">
            
            <!-- list.css에 back이미지 설정해둠 -->
       
          </div>
        </section>
        
        
        
        <!-- main -->
     <main>
     
    <form id='actionForm' action="/store/cart" method='get'>
		<input type='hidden' name='breadno' value=''>
	</form>
	
	
       <table>
  
		    <tr>
		      <td><img src="../resources/img/menu/menu1.png" alt="빵메뉴01" class="item"></td>
		      <td><img src="../resources/img/menu/menu2.png" alt="빵메뉴02" class="item"></td>
		      <td><img src="../resources/img/menu/menu3.png" alt="빵메뉴03" class="item"></td>
		      <td><img src="../resources/img/menu/menu4.png" alt="빵메뉴04" class="item"></td>
		    </tr>
		    
		    <tr>
		    	<td class="price">5500원</td>
		    	<td class="price">3000원</td>
		    	<td class="price">3400원</td>
		    	<td class="price">3500원</td>
		    </tr>
		  
		    <tr>
		      <td><img src="../resources/img/menu/menu5.png" alt="빵메뉴05" class="item"></td>
		      <td><img src="../resources/img/menu/menu6.png" alt="빵메뉴06" class="item"></td>
		      <td><img src="../resources/img/menu/menu7.png" alt="빵메뉴07" class="item"></td>
		      <td><img src="../resources/img/menu/menu8.png" alt="빵메뉴08" class="item"></td>
		    </tr>
		    
		     <tr>
		    	<td class="price">2800원</td>
		    	<td class="price">3800원</td>
		    	<td class="price">3200원</td>
		    	<td class="price">5500원</td>
		    </tr>
		 
		 	<tr>
		      <td><img src="../resources/img/menu/menu9.png" alt="빵메뉴09" class="item"></td>
		      <td><img src="../resources/img/menu/menu10.png" alt="빵메뉴10" class="item"></td>
       		  <td><img src="../resources/img/menu/menu11.png" alt="빵메뉴11" class="item"></td>
       		  <td><img src="../resources/img/menu/menu12.png" alt="빵메뉴12" class="item"></td>
		    </tr>
		    
		     <tr>
		    	<td class="price">2400원</td>
		    	<td class="price">4500원</td>
		    	<td class="price">2500원</td>
		    	<td class="price">2600원</td>
		    </tr>
		   
		    <tr>
		    	<td><img src="../resources/img/menu/menu13.png" alt="빵메뉴13" class="item"></td>
        		<td><img src="../resources/img/menu/menu14.png" alt="빵메뉴14" class="item"></td>
        		<td><img src="../resources/img/menu/menu15.png" alt="빵메뉴15" class="item"></td>
        		<td><img src="../resources/img/menu/menu16.png" alt="빵메뉴16" class="item"></td>
		    </tr>
		     <tr>
		    	<td class="price">2000원</td>
		    	<td class="price">1700원</td>
		    	<td class="price">2200원</td>
		    	<td class="price">2300원</td>
		    </tr>   
		    
		    <tr>
		    	<td><img src="../resources/img/menu/menu17.png" alt="빵메뉴17" class="item"></td>
        		<td><img src="../resources/img/menu/menu18.png" alt="빵메뉴18" class="item"></td>
        		<td><img src="../resources/img/menu/menu19.png" alt="빵메뉴19" class="item"></td>
        		<td><img src="../resources/img/menu/menu20.png" alt="빵메뉴20" class="item"></td>
		   </tr> 
		   
		    <tr>
		    	<td class="price">2300원</td>
		    	<td class="price">5500원</td>
		    	<td class="price">2700원</td>
		    	<td class="price">2800원</td>
		    </tr>
		    
		    <tr>
		    	<td><img src="../resources/img/menu/menu21.png" alt="빵메뉴21" class="item"></td>
        		<td><img src="../resources/img/menu/menu22.png" alt="빵메뉴22" class="item"></td>
        		<td><img src="../resources/img/menu/menu23.png" alt="빵메뉴23" class="item"></td>
        		<td><img src="../resources/img/menu/menu24.png" alt="빵메뉴24" class="item"></td>
		    </tr>
		     <tr>
		    	<td class="price">25000원</td>
		    	<td class="price">27000원</td>
		    	<td class="price">30000원</td>
		    	<td class="price">30000원</td>
		    </tr>
	      <tr>
	      		<td><img src="../resources/img/menu/menu25.png" alt="빵메뉴25" class="item"></td>
        		<td><img src="../resources/img/menu/menu26.png" alt="빵메뉴26" class="item"></td>
        		<td><img src="../resources/img/menu/menu27.png" alt="빵메뉴27" class="item"></td>
        		<td><img src="../resources/img/menu/menu28.png" alt="빵메뉴28" class="item"></td>
	      </tr>

 			<tr>
		    	<td class="price">28000원</td>
		    	<td class="price">34000원</td>
		    	<td class="price">30000원</td>
		    	<td class="price">27000원</td>
		    </tr>
	      <tr>
	      		<td><img src="../resources/img/menu/menu29.png" alt="빵메뉴29" class="item"></td>
	      		<td><img src="../resources/img/menu/menu30.png" alt="빵메뉴30" class="item"></td>
        		<td><img src="../resources/img/menu/menu31.png" alt="빵메뉴31" class="item"></td>
	      </tr>
	       <tr>
		    	<td class="price">27000원</td>
		    	<td class="price">29000원</td>
		    	<td class="price">32000원</td>
		    </tr>
	</table>
        
      
        		
        	
			
		</main>
		
		
		
		
		
<%@include file="./footer.jsp" %>		


<script>
$(document).ready(function(){
	
	//icon 이미지 추가
	var str = "";
	str += "<img src='../resources/img/icon_cart.png' alt='cart' class='icon'  id='cart'>"	;
	str +=	"<img src='../resources/img/icon_pay.png' alt='cart' class='icon' id='pay'>";
	$("td").append(str);
	
	//td에 커서 올리면 icon 보이게
	$("td").not(".price").hover(function(){
		$(this).children(".icon").css("display", "block");
	},
	function(){
		$(this).children(".icon").css("display", "none");
	});
	
	//icon에 hover하면 pointer 나타나도록
	$(".icon").hover(function(){
		$(this).css("cursor","pointer");
	});
	
	var actionForm = $("#actionForm");
	var inputValue = actionForm.find("input").attr("value");
	var breadno;
	var breadnoArr=[];
	function putTheCartIn(){
		actionForm.find("input").attr("value", breadnoArr);
	} // end func putTheCartIn
	
	
	$(".icon#cart").on("click", function(){
		breadno = parseInt($(this).parent().find("img.item").attr("alt").slice(-2));
		breadnoArr.push(breadno);
		console.log(breadnoArr);
		alert("장바구니에 상품이 담겼습니다.");
		putTheCartIn();
	});
	
	
	$(".icon#pay").on("click", function(){
		breadno = parseInt($(this).parent().find("img.item").attr("alt").slice(-2));
		breadnoArr.push(breadno);
		if(confirm("다른 상품을 더 담지 않고 바로 결제하시겠습니까?")){
			putTheCartIn();
			actionForm.submit();
		} else {
			alert("장바구니에 상품을 담아드렸습니다.");
			putTheCartIn();
		}
	});

	
});

</script>